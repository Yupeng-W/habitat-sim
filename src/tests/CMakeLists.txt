macro(TEST TEST_NAME)
  add_executable(${TEST_NAME} "${TEST_NAME}.cpp")
  target_link_libraries(${TEST_NAME} core gtest_main)
  set(DEPENDENCIES "${ARGN}")
  foreach(DEPENDENCY IN LISTS DEPENDENCIES)
    target_link_libraries(${TEST_NAME} ${DEPENDENCY})
  endforeach()
  add_test(${TEST_NAME} ${TEST_NAME})
endmacro(TEST)

TEST(CoreTest io)
TEST(NavTest nav assets)
TEST(IOTest io)
TEST(GeoTest geo)
TEST(Mp3dTest scene)
TEST(SimTest sim)
TEST(SuncgTest scene)
